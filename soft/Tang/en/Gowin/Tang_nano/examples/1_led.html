<!DOCTYPE html>

<html lang="en"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/prism.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9cb07365544a53067c56c346c838181a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119047820-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'UA-119047820-5');
    </script>
        
        <link rel="stylesheet" href="/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/js/thumbs_up/style.css" type="text/css"/>
        
    
    
    <title>Instance process - Sipeed Wiki</title>
    
    <script type="text/javascript">js_vars = {"teedoc-plugin-ad-hint": {"type": "hint", "label": "NEW", "content": "New Maix series products <a href='https://wiki.sipeed.com/maixcam'>MaixCAM</a> online now, and new <a href='https://wiki.sipeed.com/maixpy/'>MaixPy</a>,feature richer functionalities, enhanced performance, and user-friendly software, with comprehensive documentation", "show_times": 2, "show_after_s": 432000, "date": "2022-06-01 14:00", "color": "#a0421d", "link_color": "#e53935", "link_bg_color": "#e6ae5c", "bg_color": "#ffcf89", "color_hover": "white", "bg_color_hover": "#f57c00", "close_color": "#eab971"}, "teedoc-plugin-thumbs-up": {"label_up": "Helpful", "label_down": "Not Helpful", "icon": "/static/images/thumbs_up/up.svg", "icon_clicked": "/static/images/thumbs_up/upped.svg", "url": "https://thumbs-up.sipeed.com", "show_up_count": true, "show_down_count": false, "msg_already_voted": "You have already voted", "msg_thanks": "Thanks for your vote", "msg_down_prompt": "Thanks to tell us where we can improve?(At least 10 characters)", "msg_down_prompt_error": "Message should be at least 10 characters and less than 256 characters", "msg_error": "Request server failed!"}}</script>
    <script type="text/javascript">metadata = {"tags": [], "date": null, "update": [], "ts": 0, "author": "", "brief": "", "cover": ""}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/en/">
                
                    <img class="site_logo" src="/static/image/logo.svg" alt="sipeed wiki logo">
                
                
                    <h2>wiki</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/en/">Products</a></li>
<li class="sub_items "><a >Software Docs</a><ul><li class=""><a  href="/maixpy/en/">MaixPy</a></li>
<li class=""><a  href="/soft/maixpy/zh/index.html">MaixPy_v1</a></li>
<li class=""><a  href="/soft/Lichee/zh/index.html">Lichee</a></li>
<li class=""><a  href="/ai/en/index.html">AI Guide</a></li>
</ul>
</li>
<li class=""><a target="_blank" href="https://maixhub.com">MaixHub</a></li>
<li class=""><a  href="/news/">News</a></li>
<li class=""><a  href="/en/faq.html">FAQ</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class=""><a  href="/en/store.html"><img src='/static/image/shop.svg' style='height: 1.5em;vertical-align: middle;'></a></li>
<li class=""><a target="_blank" href="https://github.com/sipeed"><img src='/static/image/github.svg' style='height: 1.5em;vertical-align: middle;'></a></li>
<li class="sub_items "><a  ><img src='/static/image/language.svg' style='height: 1.5em;vertical-align: middle;'>&nbsp;English</a><ul><li class="active"><a  href="/soft/Tang/en/Gowin/Tang_nano/examples/1_led.html">English</a></li>
<li class=""><a  href="/soft/Tang/zh/Gowin/Tang_nano/examples/1_led.html">中文</a></li>
</ul></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">Search</span>
                            <div id="search_hints">
                                <span id="search_input_hint">Input keyword. Using Space to separate multiple keywords</span>
                                <span id="search_loading_hint">Loading, please wait</span>
                                <span id="search_download_err_hint">Fail download, Please retry or check network</span>
                                <span id="search_other_docs_result_hint">Results form other doc</span>
                                <span id="search_curr_doc_result_hint">Result form current doc</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="show">
<li class="active_parent with_link"><a href="/soft/Tang/en/index.html"><span class="label">Tang</span><span class="sub_indicator"></span></a><ul class="show">
<li class="active_parent no_link"><a><span class="label">Tang Nano</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active no_link"><a><span class="label">INTRODUCTION</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano/index.html"><span class="label">About Tang Nano</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">REDAY</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano/get_started/install-the-ide.html"><span class="label">IDE installation</span><span class=""></span></a></li>
</ul>
</li>
<li class="active_parent no_link"><a><span class="label">EXAMPLE</span><span class="sub_indicator"></span></a><ul class="show">
<li class="active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano/examples/1_led.html"><span class="label">Lighting tutorial</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano/examples/2_lcd.html"><span class="label">Point LCD tutorial</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano_1k/Wait.html"><span class="label">Tang nano 1k</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano_4k/Wait.html"><span class="label">Tang nano 4k</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Gowin/Tang_nano_9k/Wait.html"><span class="label">Tang nano 9k</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Tang Primer</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/index.html"><span class="label">Tang Primer</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">Hardware Overview</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/hardware-overview/lichee-tang.html"><span class="label">Tang Primer board</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/hardware-overview/OV2640-camera.html"><span class="label">OV2640 Camera Module</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/hardware-overview/LCD-display.html"><span class="label">LCD Display module</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/no_translate.html?ref=/soft/Tang/zh/Analogic/Tang_primer/hardware-overview/rV-debugger.html&from=/soft/Tang/en/Analogic/Tang_primer/hardware-overview/rV-debugger.html"><span class="label">RV Debugger</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Getting Started</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/requirements.html"><span class="label">Requirements</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/installing-TD-IDE/linux.html"><span class="label">Installing Tang Dynasty IDE on Linux</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/installing-TD-IDE/windows.html"><span class="label">Installing Tang Dynasty IDE on Windows</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/installing-USB-Driver/linux.html"><span class="label">Installing USB Driver on Linux</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/installing-USB-Driver/windows.html"><span class="label">Installing USB Driver on Windows</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/getting-started/Getting-to-Blinky/Getting-to-Blinky.html"><span class="label">Getting to Blinky</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Using Tang Perimer</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/using-tang/using-gpio/using-gpio.html"><span class="label">Using Tang GPIO</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Working with RISC-V</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/risc-v-core/hummingbird/_index.en.html"><span class="label">Hummingbrid Core</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">Developer Guide</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/soft/Tang/en/Analogic/Tang_primer/dev-guide/using-yosys/_index.en.html"><span class="label">Using Yosys with Primer</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1>Instance process</h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="Last modify date: 2022-07-06">
                                    2022-07-06
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/sipeed/sipeed_wiki/blob/main/docs/soft/Tang/en/Gowin/Tang_nano/examples/1_led.md" target="_blank">
                                    <span id='editPage'>Edit this page</span>
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <p>New Project -&gt; Add Source Code File -&gt; Add Timing, Pin Constraints -&gt; Synthesis -&gt; Programe</p>
<p>Before reading this document, please make sure you have seen <a href="http://cdn.gowinsemi.com.cn/SUG100-1.8_Gowin%E4%BA%91%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf"  target="_blank">Gowin Cloud Source Software User Guide</a>, Chapter 5 Cloud Source Software Usage</p>
<p>The source code of this experiment: [https://github.com/sipeed/Tang-Nano-examples/tree/master/example_led](<a href="https://github.com/sipeed/Tang-Nano-examples/tree/master/"  target="_blank">https://github.com/sipeed/Tang-Nano-examples/tree/master/</a> Example_led)</p>
<h1 id="Verilog-Prerequisites">Verilog Prerequisites</h1>
<p>Here only introduce the relevant syntax that will be used next, more can refer to <a href="http://www.asic-world.com/verilog/veritut.html"  target="_blank">Verilog Tutorial</a></p>
<p>The basic design unit of Verilog is the module, and each Verilog program consists of four main parts: port definition, I/O description, internal signal declaration and function definition.</p>
<p>The module is like the black box we usually mentioned. When we implement the module, we don't need to care about the inside of the module. We only need to instantiate the module according to the input and output format defined by the module, and provide input to the module. Already working</p>
<p>a module grows like this</p>

<pre class="language-none"><code class="language-none">module block (input a, output b);
reg [width-1:0] R_1;

assign b = a;
always @(posedge clk or negedge reset_n)
begin
// do something
end

endmodule
</code></pre>
<p>The overall structure of the module consists of module and endmodule. The module is followed by the definition of the module interface, which declares whether the direction of the port is input or output.</p>
<p>Internal signals are sometimes used inside the module, and the internal signals are of type wire and reg.</p>
<p>The definition of the function can be done through the assign and always blocks. Assign is one of the most common methods for describing combinatorial logic; always a block machine can be used to describe combinatorial logic, as well as to describe sequential logic</p>
<h1 id="Pin-usage">Pin usage</h1>
<p>The onboard is a RGB(tri-color) LED, the schematic is as follows</p>
<p><img src="./../assets/examples/led_pjt_1.png" alt="" /></p>
<p>The pin distribution used by the entire program is as follows</p>
<table>
<thead>
<tr>
  <th>port</th>
  <th>I/O</th>
  <th>pin</th>
  <th>desc</th>
</tr>
</thead>
<tbody>
<tr>
  <td>sys_clk</td>
  <td>input</td>
  <td>35</td>
  <td>Clock Input Pin</td>
</tr>
<tr>
  <td>sys_rst_n</td>
  <td>input</td>
  <td>15</td>
  <td>System Reset Foot</td>
</tr>
<tr>
  <td>led[0]</td>
  <td>output</td>
  <td>16</td>
  <td>Green LED</td>
</tr>
<tr>
  <td>led[1]</td>
  <td>output</td>
  <td>17</td>
  <td>Blue LED</td>
</tr>
<tr>
  <td>led[2]</td>
  <td>output</td>
  <td>18</td>
  <td>Red LED</td>
</tr>
</tbody>
</table>
<h1 id="Programming">Programming</h1>
<p>The clock of this system is 24Mhz, one machine cycle is 1/24M s, which means 0.5s every 12000000 clock cycles.</p>
<p>In the program, calculate 12000000 clock cycles by counter, and wait for 0.5s. After the time is up, set counter to 0 and change the color of the LED.</p>

<pre class="language-none"><code class="language-none">module led (
    input sys_clk, // clk input
    input sys_rst_n, // reset input
    output reg [2:0] led // 110 G, 101 R, 011 B
);

reg [23:0] counter;

always @(posedge sys_clk or negedge sys_rst_n) begin
    if (!sys_rst_n)
        counter &lt;= 24'd0;
    else if (counter &lt; 24'd1200_0000) // 0.5s delay
        counter &lt;= counter + 1'b1;
    else
        counter &lt;= 24'd0;
end

always @(posedge sys_clk or negedge sys_rst_n) begin
    if (!sys_rst_n)
        led &lt;= 3'b110;
    else if (counter == 24'd1200_0000) // 0.5s delay
        led[2:0] &lt;= {led[1:0], led[2]};
    else
        led &lt;= led;
end

endmodule
</code></pre>
<h1 id="Pin-constraint">Pin constraint</h1>
<p>In order for fpga to implement the function of the code, it is also necessary to constrain the pin operations involved in the code to the actual pins of fpga.</p>
<p>As shown below, click process in the workspace on the left, then double-click FloorPlanner</p>
<p><img src="./../assets/examples/led_pjt_2.png" alt="" /></p>
<p>The first click in the project, you may be prompted to create a file, click OK</p>
<p>In the pop-up window, switch to Package View, drag the port under Ports to the corresponding pin of fpga, save it, as shown below</p>
<p><img src="./../assets/examples/led_pjt_3.png" alt="" /></p>
<h1 id="Synthesis">Synthesis</h1>
<p>In the workspace on the left, right-click Synthesize or Place&amp;Route, there will be a run option, click</p>
<p><img src="./../assets/examples/led_pjt_4.png" alt="" /></p>
<h1 id="Programe">Programe</h1>
<p>There are two options, one is to burn to sram, the other is to burn to flash.</p>
<p>Burning to sram is faster, but there is no firmware in fpga after power-off; burning to flash can save the firmware before burning after the system is powered off.</p>
<p>Burning is done through the Programer</p>
<p>Double-click on the Program Device in the left workspace to open the Programer.</p>
<p><img src="./../assets/examples/led_pjt_5.png" alt="" /></p>
<p>However, before using Programer, you need to be aware that you can use Programer after both Synthesize and Place&amp;Route are completed, otherwise the software will report error <code>Bitstream file dose not exists</code></p>
<p><img src="./../assets/examples/led_pjt_6.png" alt="" /></p>
<p>Linux users need to pay attention</p>
<blockquote>
<p>The programmer in the Linux installation package is for Linux version Red Hat 5.10. For the Red Hat 6/7 version of the programmer, please download the installation on the official website and replace the installation package with the file in the Gowin cloud source software installation package. Clip &quot;Programmer&quot;.</p>
</blockquote>
<h2 id="Change-the-burning-position">Change the burning position</h2>
<p>To select the location where the firmware is programmed, you can click Edit -&gt; Configure Device when the chip is selected.</p>
<p><img src="./../assets/examples/led_pjt_7.png" alt="" /></p>
<p>In the pop-up window, select the location you want to burn. The flash is selected here. The default burning location is sram.</p>
<p><img src="./../assets/examples/led_pjt_8.png" alt="" /></p>
<h2 id="Burning">Burning</h2>
<p>After selecting the burning location, you can burn the firmware, click on the menu bar to burn.</p>
<p><img src="./../assets/examples/led_pjt_9.png" alt="" /></p>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                        <a href="/soft/Tang/en/Gowin/Tang_nano/get_started/install-the-ide.html">
                            <span class="icon"></span>
                            <span class="label">IDE installation</span>
                        </a>
                        
                    </div>
                    <div id="next">
                        
                        <a href="/soft/Tang/en/Gowin/Tang_nano/examples/2_lcd.html">
                            <span class="label">Point LCD tutorial</span>
                            <span class="icon"></span>
                        </a>
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>links</a><ul><li><a target="_blank" href="https://www.sipeed.com">Sipeed</a></li>
<li><a target="_blank" href="https://maixhub.com/">MaixHub</a></li>
<li><a target="_blank" href="https://sipeed.aliexpress.com/store/911876460">Sipeed AliExpress</a></li>
<li><a target="_blank" href="https://github.com/neutree/teedoc">Build by teedoc </a></li>
</ul>
</li>
<li><a>Source Code</a><ul><li><a target="_blank" href="https://github.com/sipeed/sipeed_wiki">Wiki source</a></li>
<li><a target="_blank" href="https://github.com/sipeed">Open Source Projects</a></li>
</ul>
</li>
<li><a>Follow us</a><ul><li><a target="_blank" href="https://twitter.com/SipeedIO">twitter</a></li>
<li><a target="_blank" href="https://sipeed.aliexpress.com/store/911876460">AliExpress</a></li>
<li><a target="_blank" href="https://github.com/sipeed">github</a></li>
<li><a><a>Wechat</a><img src='/static/image/wechat.png'></a>
</li>
</ul>
</li>
<li><a>Contact us</a><ul><li><a>Tel: +86 0755-27808509</a>
</li>
<li><a>Business support: support@sipeed.com</a>
</li>
<li><a>Address: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>
</li>
<li><a  href="/join_us.html">Join us</a></li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://www.sipeed.com">©2018-2023 深圳矽速科技有限公司</a></li>
<li><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">粤ICP备19015433号</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "translate.google.com";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                    console.log("load google translate domain from local storage:" + domain);
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                console.log("google translate domain:" + domain + ", url: " + url);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/js/prism.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/static/js/gitalk/main.js"></script>
    
        <link rel="stylesheet" href="/static/js/add_hint/style.css" type="text/css"/>
    
        <script src="/static/js/add_hint/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
        <script src="/static/js/thumbs_up/main.js"></script>
    
</body>

</html>