<!DOCTYPE html>
<html  class="md_page">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="">
    <meta name="description" content="[]">
    <meta name="generator" content="teedoc">
    <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        <link rel="stylesheet" href="/static/css/theme_default/prism.min.css" type="text/css"/>
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        <script src="/static/js/theme_default/jquery.min.js"></script>
        <script src="/static/js/theme_default/pre_main.js"></script>
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9cb07365544a53067c56c346c838181a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <title>'移植QT5.9.1' - Sipeed Wiki</title>
</head>
<body>
    
            <div id="navbar">
                <div id="navbar_menu">
                    <a class="site_title" href="/"><img class="site_logo" src="/static/image/logo.svg" alt="sipeed wiki logo"><h2>wiki</h2></a>
                    <a id="navbar_menu_btn"></a>
                </div>
                <div id="navbar_items">
                    <div>
                        <ul id="nav_left">
<li class=""><a  href="/">首页</a></li>
<li class=""><a target="_blank" href="https://www.sipeed.com">矽速官网</a></li>
<li class="sub_items "><a>开源软件</a><ul><li class=""><a  href="/soft/maixpy/zh/index.html">Maixpy</a></li>
<li class=""><a  href="/soft/maixpy3/zh/">Maixpy3</a></li>
<li class=""><a  href="/licheeos/zh/">Lichee OS</a></li>
<li class=""><a  href="/LonganOS/zh/">Longan OS</a></li>
<li class=""><a  href="/TangOs/zh/">Tang OS</a></li>
</ul>
</li>
<li class="sub_items active_parent"><a>开源硬件</a><ul><li class=""><a  href="/hardware/maix/zh/">Maix</a></li>
<li class=""><a  href="/hardware/maixII/zh/">Maix II</a></li>
<li class=""><a  href="/hardware/maixIII/zh/">Maix III</a></li>
<li class=""><a  href="/hardware/maixIV/zh/">Maix IV</a></li>
<li class="active"><a  href="/hardware/lichee/zh/">Lichee Pi</a></li>
<li class=""><a  href="/hardware/tang/zh/">Tang</a></li>
<li class=""><a  href="/hardware/longan/zh/">Longan</a></li>
</ul>
</li>
<li class="sub_items "><a>商业产品</a><ul><li class=""><a  href="/hardware/maixface/zh/">Maix Face</a></li>
</ul>
</li>
<li class="sub_items "><a>云平台</a><ul><li class=""><a target="_blank" href="https://www.maixhub.com">Maixhub 模型训练平台</a></li>
<li class=""><a target="_blank" href="https://www.maixhub.com/onlinecompiler">固件在线编译</a></li>
</ul>
</li>
<li class=""><a  href="/community.html">社区</a></li>
<li class=""><a  href="https://shop365481095.taobao.com/?spm=a230r.7195193.1997079397.2.8384341c2zZ5uZ">商城</a></li>
</ul>

                    </div>
                    <div>
                        <ul id="nav_right">
<li class="sub_items "><a  href="">Language: </a><ul><li class=""><a  href="/">中文</a></li>
<li class=""><a  href="/en/">English</a></li>
</ul></li>
</ul>

                        <ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">搜索</span>
                            <div id="search_hints">
                                <span id="search_input_hint">输入关键词，多关键词空格隔开</span>
                                <span id="search_loading_hint">正在加载，请稍候。。。</span>
                                <span id="search_download_err_hint">下载文件失败，请刷新重试或检查网络</span>
                                <span id="search_other_docs_result_hint">来自其它文档的结果</span>
                                <span id="search_curr_doc_result_hint">当前文档搜索结果</span>
                            </div></a></li></ul>
                    </div>
                </div>
            </div>
    
        <div id="wrapper">
            
            <div id="sidebar_wrapper">
                <div id="sidebar">
                    <div id="sidebar_title">
                        
                    </div>
                    <ul class="">
<li class="not_active no_link"><a><span class="label">LicheePi</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">简介</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">LicheePI Nano</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/index.html"><span class="label">简介</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">上手体验</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/./Nano-Doc-Backup/get_started/first_eye.html"><span class="label">初见</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/get_started/first_eat.html"><span class="label">前言</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">系统适配篇</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/build_index.html"><span class="label">总述</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/onekey.html"><span class="label">镜像包一键烧录</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/docker.html"><span class="label">docker快速搭建环境</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/bootargs.html"><span class="label">uboot传递参数</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/kernel.html"><span class="label">主线linux编译</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/devicetree.html"><span class="label">设备树添加节点</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/rootfs.html"><span class="label">根文件系统编译</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/build_sys/build_flash.html"><span class="label">SPI-Flash系统编译</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">驱动开发</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/driver/touchscreen.html"><span class="label">电容触摸屏适配</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">从挖坑到填坑</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/step_by_step/one_openbox.html"><span class="label">开箱介绍</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/step_by_step/two_sunxi-tools.html"><span class="label">编译使用sunxi-tools</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/step_by_step/three_uboot.html"><span class="label">编译使用uboot</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/step_by_step/four_linux.html"><span class="label">编译测试linux</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">应用开发</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/application/littlevgl.html"><span class="label">littlevGL的使用</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">奉献投稿</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/contribution/introduction.html"><span class="label">前言</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/contribution/todolist.html"><span class="label">Todolist</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/contribution/task_tips.html"><span class="label">快餐任务相关小事项</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/contribution/doc_tips.html"><span class="label">文档任务相关小事项</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Nano-Doc-Backup/contribution/build_doc.html"><span class="label">文档构建</span><span class=""></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">LicheePI Zero</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active no_link"><a><span class="label">初来乍到</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/intro_cn.html"><span class="label">荔枝派与创作者的自我介绍</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/tips.html"><span class="label">Linux使用小贴士</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/board_intro.html"><span class="label">认识zero的硬件</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/docker_index.html"><span class="label">Docker环境简明教程</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/docker_env.html"><span class="label">Docker开发环境</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/docker_command.html"><span class="label">Docker命令速查</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/Start/docker_ubuntu.html"><span class="label">基础ubuntu系统配置</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/type.html"><span class="label">Zero的开发环境分类</span><span class=""></span></a></li>
<li class="not_active no_link"><a><span class="label">主线Uboot</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/uboot_build.html"><span class="label">Uboot 编译</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/uboot_conf.html"><span class="label">Uboot 配置</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/uboot_logo.html"><span class="label">开机logo替换</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">主线Kernel</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/kernel_build.html"><span class="label">主线Kernel基础编译</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/kernel_printk.html"><span class="label">内核printk等级设置</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">BSP内核编译</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/bsp_build.html"><span class="label">BSP源码下载与编译</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/bsp_review.html"><span class="label"> BSP内核构建走读</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/bsp_cam.html"><span class="label">BSP内核的摄像头使用</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/hardware/lichee/zh/Zero-Doc/System_Development/bsp_mem.html"><span class="label">bsp内核中的保留内存</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">根文件系统编译</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                </div>
            </div>
            <div id="menu_wrapper">
                                    <div id="menu">
                                    </div>
                                </div>
            <div id="article">
                <div id="content_wrapper">
                    <div id="content_body">
                        <div id="article_head">
                            <div id="article_title">
                                <h1>'移植QT5.9.1'</h1>
                            </div>
                            <div id="article_tags">
                                <ul></ul>
                            </div>
                            <div id="article_info">
                            <div>
                                <span class="article_author"></span><span class="article_date"></span>
                            </div>
                            <div>
                                
                            </div>
                            </div>
                        </div>
                        <div id="article_content">
                            <p>移植完成tslib之后，就可以进行QT本体的移植了，目前最新版本为5.9.1。</p>

<p>注意QT本体编译时间较长，笔记本上会耗时2\~3小时，我使用的32线程服务器的编译时间为9分钟左右。</p>

<h1 id="qt591">下载QT5.9.1</h1>

<p><strike>~~ {.sourceCode .bash}<br />
wget http://download.qt.io/official_releases/qt/5.9/5.9.1/single/qt-everywhere-opensource-src-5.9.1.tar.xz<br />
tar xf qt-everywhere-opensource-src-5.9.1.tar.xz    #这里解压也需要30s左右，别以为死机了。。<br />
cd qt-everywhere-opensource-src-5.9.1<br />
./configure --help &gt;help.txt   #QT的配置较为复杂，进来先看看帮助文档，在本节最后附录里有翻译<br />
~</strike>~</p>

<p>一般来说，我们需要编译主机和目标板两个版本的qt：</p>

<blockquote>
  <p>主机版可以用于前期的gui的设计调试；目标板用于实际产品的验证。</p>
</blockquote>

<h1 id="x11">编译X11版本</h1>

<p>主机版一般是X11，配置如下：</p>

<p>~~~~ {.sourceCode .bash}</p>

<h1 id="binbash">!/bin/bash</h1>

<p>./configure -prefix /opt/qt-5.9.1-x11 -opensource -make tools   </p>

<h1 id="qtmakeqpfqtconfig">安装位置，开源版本，编译qt工具（makeqpf,qtconfig）</h1>

<p>make -j32<br />
sudo make install<br />
~~~~</p>

<p>运行该脚本，首次配置用时1分钟左右。编译一次参考时间：</p>

<pre><code>real    9m17.309s
user    206m59.052s
sys 17m30.300s
</code></pre>

<p>所以单核虚拟机编译需要三小时左右。</p>

<p>编译完成后install也需要1分钟左右。</p>

<p>安装完成后在/opt/qt-5.9.1-x11下可见安装的文件。</p>

<h1 id="arm">交叉编译arm版本</h1>

<p>注意，在第二次编译前，先 <code>make clean</code><br />
下。如果编译时候仍有错误，可以重新解压编译。</p>

<p>交叉编译，需要配置<br />
xplatform选项，比如要在arm-linux平台上移植Qt的话，就在配置项中加上<br />
<code>-xplatform linux-arm-gnueabi-g++</code><br />
，这个是平台名字，Qt5支持的交叉平台都可在源码顶层目录中的<br />
<em>/qtbase/mkspecs/</em> 下找到。</p>

<p>首先我们需要编辑 <em>qtbase/mkspecs/linux-arm-gnueabi-g++/qmake.conf</em>：</p>

<p>加上：（注意，和tslib类似，这里要加上其它什么支持的话，也是交叉编译的库的路径）</p>

<p><strike>~~ {.sourceCode .bash}<br />
QT_QPA_DEFAULT_PLATFORM = linuxfb<br />
QMAKE_CFLAGS_RELEASE += -O2 -march=armv7-a -lts<br />
QMAKE_CXXFLAGS_RELEASE += -O2 -march=armv7-a -lts<br />
QMAKE_INCDIR += /opt/tslib/include /opt/sqlite3/include<br />
QMAKE_LIBDIR += /opt/tslib/lib /opt/sqlite3/lib<br />
~</strike>~</p>

<p>把 <em>arm-linux-gnueabihf-gcc</em> 改成 <em>arm-linux-gnueabi-gcc</em> 等。</p>

<p>然后再编辑配置脚本cfg_arm.sh</p>

<p>~~~~ {.sourceCode .bash}</p>

<h1 id="binsh">!/bin/sh</h1>

<p>./configure -verbose \<br />
-prefix /opt/qt5.9.1-arm \<br />
-confirm-license \<br />
-opensource \<br />
-release \<br />
-make libs \<br />
-xplatform linux-arm-gnueabi-g++ \<br />
-optimized-qmake \<br />
-pch \<br />
-sql-sqlite -sqlite \<br />
-qt-libjpeg \<br />
-qt-libpng \<br />
-qt-zlib \<br />
-tslib \<br />
-no-opengl \<br />
-no-sse2 \<br />
-no-openssl \<br />
-no-cups \<br />
-no-glib \<br />
-no-dbus \<br />
-no-xcb \<br />
-no-separate-debug-info \<br />
-I/opt/tslib/include -L/opt/tslib/lib \<br />
-make examples -make tools -nomake tests -no-iconv<br />
~~~~</p>

<p><strike>~~ {.sourceCode .bash}<br />
make -j32<br />
sudo make install<br />
~</strike>~</p>

<p>完成后，相关文件在 <em>/opt/qt5.9.1-arm</em> 下。</p>

<h1 id="qt">向开发板添加Qt库</h1>

<p>首先将 <em>/opt/qt5.9.1-arm</em> 和 <em>/opt/tslib</em> 复制到开发板的对应目录下</p>

<p>然后设置开发板 Qt 环境变量， <code>vi /etc/bash.bashrc</code></p>

<p>添加下面内容：</p>

<p><strike>~~ {.sourceCode .bash}<br />
export TSLIB_CONSOLEDEVICE=none<br />
export TSLIB_FBDEVICE=/dev/fb0<br />
export TSLIB_TSDEVICE=/dev/input/event1<br />
export TSLIB_CONFFILE=/opt/tslib/etc/ts.conf<br />
export TSLIB_PLUGINDIR=/opt/tslib/lib/ts<br />
export TSLIB_CALIBFILE=/etc/pointercal<br />
export LD_LIBRARY_PATH=/lib:/usr/lib:/opt/tslib/lib:/opt/qt5.9.1-arm/lib<br />
export PATH=/bin:/sbin:/usr/bin/:/usr/sbin:/opt/tslib/bin<br />
export QT_QPA_PLATFORM_PLUGIN_PATH=/opt/qt5.9.1-arm/plugins<br />
export QT_QPA_PLATFORM=linuxfb:tty=/dev/fb0<br />
export QT_QPA_FONTDIR=/opt/qt5.9.1-arm/lib/fonts<br />
export QT_QPA_GENERIC_PLUGINS=tslib:$TSLIB_TSDEVICE<br />
~</strike>~</p>

<p>保存后生效上述内容： <code>source /etc/bash.bashrc</code></p>

<h1 id="-1">参考资料</h1>

<p><a href="http://blog.csdn.net/newthinker_wei/article/details/39560109">http://blog.csdn.net/newthinker_wei/article/details/39560109</a></p>

<p><a href="http://www.linuxidc.com/Linux/2014-03/98079.htm">http://www.linuxidc.com/Linux/2014-03/98079.htm</a></p>

<h1 id="qt-2">附录：QT配置帮助文件 翻译</h1>

<p>Usage: configure [options] [assignments]</p>

<p>在命令行使用VAR=value来配置变量。</p>

<p>每个大写的库名（用-list-libraries可以查看），支持这些后缀：</p>

<pre><code>_INCDIR, _LIBDIR, _PREFIX (INCDIR=PREFIX/include, LIBDIR=PREFIX/lib),
_LIBS, and - on Windows and Darwin - _LIBS_DEBUG and _LIBS_RELEASE. E.g.,
ICU_PREFIX=/opt/icu42 ICU_LIBS="-licui18n -licuuc -licudata".
</code></pre>

<p>同时支持操作 QMAKE_*<br />
变量，来修改mkspec里指定的值，比如QMAKE_CXXFLAGS+=-g3.</p>

<p><strong>顶层安装路径：</strong></p>

<pre><code>-prefix ------ 目标路径（在开发板上的绝对路径）
[如果使能了developer-build，就是/usr/local/Qt-$QT_VERSION, $PWD]
-extprefix --- 安装路径（在主机上的路径，比prefix更多一个前置路径），可不写
[SYSROOT/PREFIX]
-hostprefix [dir] .. The installation directory for build tools running on
the host machine. If [dir] is not given, the current
build directory will be used. [EXTPREFIX]
-external-hostbindir --- Path to Qt tools built for this machine.
Use this when -platform does not match the current
system, i.e., to make a Canadian Cross Build.
</code></pre>

<p><strong>微调安装路径的分布</strong> ，注意除了-sysconfdir外的所有目录需要在<br />
<em>-prefix/-hostprefix</em> 下。</p>

<p>（这里基本可以不配置）</p>

<pre><code>-bindir --------- Executables [PREFIX/bin]
-headerdir ------ Header files [PREFIX/include]
-libdir --------- Libraries [PREFIX/lib]
-archdatadir ---. Arch-dependent data [PREFIX]
-plugindir ------ Plugins [ARCHDATADIR/plugins]
-libexecdir ---.. Helper programs [ARCHDATADIR/bin on Windows,
ARCHDATADIR/libexec otherwise]
-importdir ------ QML1 imports [ARCHDATADIR/imports]
-qmldir --------- QML2 imports [ARCHDATADIR/qml]
-datadir ------.. Arch-independent data [PREFIX]
-docdir --------- Documentation [DATADIR/doc]
-translationdir . Translations [DATADIR/translations]
-sysconfdir ---.. Settings used by Qt programs [PREFIX/etc/xdg]
-examplesdir ---. Examples [PREFIX/examples]
-testsdir ------. Tests [PREFIX/tests]

-hostbindir ---.. Host executables [HOSTPREFIX/bin]
-hostlibdir ---.. Host libraries [HOSTPREFIX/lib]
-hostdatadir ---. Data used by qmake [HOSTPREFIX]
</code></pre>

<p><strong>对剩余的选项的约定：</strong></p>

<pre><code>当一个选项描述符在一系列方括号内的变量之后，这个选项的解释是：
空选项表示yes； 所有其他值是可能的前缀，比如-no-gui.
Values are listed in the order they are tried if not specified;
'auto' 是 'yes/no'的简写. 单个 'yes' 和 'no' 表示没有自动检测的二进制选项。
</code></pre>

<p><strong>可配置的meta：</strong></p>

<pre><code>-help, -h ------------ Display this help screen
-verbose, -v --------- Print verbose messages during configuration
-continue ------------ Continue configure despite errors
-redo ---------------. Re-configure with previously used options.
Additional options may be passed, but will not be
saved for later use by -redo.
-recheck ------------. Discard cached negative configure test results.
Use this after installing missing dependencies.
-recheck-all --------- Discard all cached configure test results.
-feature- --- Enable 
-no-feature- Disable [none]
-list-features ------. List available features. Note that some features
have dedicated command line options as well.

-list-libraries ------ List possible external dependencies.
</code></pre>

<p><strong>构建选项：</strong></p>

<pre><code>-opensource ---------. Build the Open-Source Edition of Qt
-commercial ---------. Build the Commercial Edition of Qt
-confirm-license ---.. Automatically acknowledge the license
-release ------------. Build Qt with debugging turned off [yes]
-debug --------------- Build Qt with debugging turned on [no]
-debug-and-release --- Build two versions of Qt, with and without
debugging turned on [yes] (Apple and Windows only)
-optimize-debug ------ Enable debug-friendly optimizations in debug builds
[auto] (Not supported with MSVC)
-optimize-size ------. Optimize release builds for size instead of speed [no]
-optimized-tools ---.. Build optimized host tools even in debug build [no]
-force-debug-info ---. Create symbol files for release builds [no]
-separate-debug-info . Split off debug information to separate files [no]
-strip --------------- Strip release binaries of unneeded symbols [yes]
-force-asserts ------. Enable Q_ASSERT even in release builds [no]
-developer-build ---.. Compile and link Qt for developing Qt itself
(exports for auto-tests, extra checks, etc.) [no]
-shared ------------.. Build shared Qt libraries [yes] (no for UIKit)
-static ------------.. Build static Qt libraries [no] (yes for UIKit)
-framework ---------.. Build Qt framework bundles [yes] (Apple only)
-platform --- Select host mkspec [detected]
-xplatform .. Select target mkspec when cross-compiling [PLATFORM]
-device ------. Cross-compile for device 
-device-option &lt;key=value&gt; --- Add option for the device mkspec

-appstore-compliant .. Disable code that is not allowed in platform app stores.
This is on by default for platforms which require distribution
through an app store by default, in particular Android,
iOS, tvOS, watchOS, and Universal Windows Platform. [auto]
-qtnamespace .. Wrap all Qt library code in 'namespace {---}'.
-qtlibinfix .. Rename all libQt5*.so to libQt5*.so.

-testcocoon ---------. Instrument with the TestCocoon code coverage tool [no]
-gcov ---------------. Instrument with the GCov code coverage tool [no]
-sanitize {address|thread|memory|undefined}
Instrument with the specified compiler sanitizer.
-c++std ---. Select C++ standard [c++1z/c++14/c++11]
(Not supported with MSVC)

-sse2 ---------------. Use SSE2 instructions [auto]
-sse3/-ssse3/-sse4.1/-sse4.2/-avx/-avx2/-avx512
Enable use of particular x86 instructions [auto]
Enabled ones are still subject to runtime detection.
-mips_dsp/-mips_dspr2 Use MIPS DSP/rev2 instructions [auto]
-qreal ------.. typedef qreal to the specified type. [double]
Note: this affects binary compatibility.

-R ---------. Add an explicit runtime library path to the Qt
libraries. Supports paths relative to LIBDIR.
-rpath --------------- Link Qt libraries and executables using the library
install path as a runtime library path. Similar to
-R LIBDIR. On Apple platforms, disabling this implies
using absolute install names (based in LIBDIR) for
dynamic libraries and frameworks. [auto]

-reduce-exports ------ Reduce amount of exported symbols [auto]
-reduce-relocations .. Reduce amount of relocations [auto] (Unix only)
-plugin-manifests ---. Embed manifests into plugins [no] (Windows only)
-static-runtime ------ With -static, use static runtime [no] (Windows only)
-pch ---------------.. Use precompiled headers [auto]
-ltcg ---------------. Use Link Time Code Generation [no]
-use-gold-linker ---.. Use the GNU gold linker [auto]
-incredibuild-xge ---. Use the IncrediBuild XGE [no] (Windows only)
-make-tool ---. Use to build qmake [nmake] (Windows only)
-mp ------------------ Use multiple processors for compilation (MSVC only)

-warnings-are-errors . Treat warnings as errors [no; yes if -developer-build]
-silent ------------.. Reduce the build output so that warnings and errors
can be seen more easily
</code></pre>

<p><strong>构建环境：</strong></p>

<pre><code>-sysroot ------. Set as the target sysroot
-gcc-sysroot --------- With -sysroot, pass --sysroot to the compiler [yes]

-pkg-config ---------. Use pkg-config [auto] (Unix only)

-D ---------. Pass additional preprocessor define
-I ---------. Pass additional include path
-L ---------. Pass additional library path
-F ---------. Pass additional framework path (Apple only)

-sdk ---------.. Build Qt using Apple provided SDK . The argument
should be one of the available SDKs as listed by
'xcodebuild -showsdks'.
Note that the argument applies only to Qt libraries
and applications built using the target mkspec - not
host tools such as qmake, moc, rcc, etc.

-android-sdk path ---. Set Android SDK root path [$ANDROID_SDK_ROOT]
-android-ndk path ---. Set Android NDK root path [$ANDROID_NDK_ROOT]
-android-ndk-platform Set Android platform
-android-ndk-host ---. Set Android NDK host (linux-x86, linux-x86_64, etc.)
[$ANDROID_NDK_HOST]
-android-arch ------.. Set Android architecture (armeabi, armeabi-v7a,
arm64-v8a, x86, x86_64, mips, mips64)
-android-toolchain-version --- Set Android toolchain version
-android-style-assets Automatically extract style assets from the device at
run time. This option makes the Android style behave
correctly, but also makes the Android platform plugin
incompatible with the LGPL2.1. [yes]
</code></pre>

<p><strong>组件选择</strong></p>

<pre><code>-skip --------- Exclude an entire repository from the build.
-make --------- Add to the list of parts to be built.
Specifying this option clears the default list first.
[libs and examples, also tools if not cross-building,
also tests if -developer-build]
-nomake ------. Exclude from the list of parts to be built.
-compile-examples ---. When unset, install only the sources of examples [yes]
-gui ---------------.. Build the Qt GUI module and dependencies [yes]
-widgets ------------. Build the Qt Widgets module and dependencies [yes]
-no-dbus ------------. Do not build the Qt D-Bus module
[default on Android and Windows]
-dbus-linked --------- Build Qt D-Bus and link to libdbus-1 [auto]
-dbus-runtime ------.. Build Qt D-Bus and dynamically load libdbus-1 [no]
-accessibility ------. Enable accessibility support [yes]
Note: Disabling accessibility is not recommended.
-qml-debug ---------.. Enable QML debugging support [yes]

Qt comes with bundled copies of some 3rd party libraries. These are used
by default if auto-detection of the respective system library fails.
</code></pre>

<p><strong>核心选项</strong></p>

<pre><code>-doubleconversion ---. Select used double conversion library [system/qt/no]
No implies use of sscanf_l and snprintf_l (imprecise).
-glib ---------------. Enable Glib support [no; auto on Unix]
-eventfd ------------. Enable eventfd support
-inotify ------------. Enable inotify support
-iconv --------------- Enable iconv(3) support [posix/sun/gnu/no] (Unix only)
-icu ---------------.. Enable ICU support [auto]
-pcre ---------------. Select used libpcre2 [system/qt]
-pps ---------------.. Enable PPS support [auto] (QNX only)
-zlib ---------------. Select used zlib [system/qt]
</code></pre>

<p><strong>日志后端</strong></p>

<pre><code>-journald ---------. Enable journald support [no] (Unix only)
-syslog ------------ Enable syslog support [no] (Unix only)
-slog2 ------------. Enable slog2 support [auto] (QNX only)
</code></pre>

<p><strong>网络选择</strong></p>

<pre><code>-ssl ---------------.. Enable either SSL support method [auto]
-no-openssl ---------. Do not use OpenSSL [default on Apple and WinRT]
-openssl-linked ------ Use OpenSSL and link to libssl [no]
-openssl-runtime ---.. Use OpenSSL and dynamically load libssl [auto]
-securetransport ---.. Use SecureTransport [auto] (Apple only)
-sctp ---------------. Enable SCTP support [no]

-libproxy ------------ Enable use of libproxy [no]
-system-proxies ------ Use system network proxies by default [yes]
</code></pre>

<p><strong>Gui, 打印, 挂件选择</strong></p>

<pre><code>-cups ---------------. Enable CUPS support [auto] (Unix only)

-fontconfig ---------. Enable Fontconfig support [auto] (Unix only)
-freetype ------------ Select used FreeType [system/qt/no]
-harfbuzz ------------ Select used HarfBuzz-NG [system/qt/no]
(Not auto-detected on Apple and Windows)
-gtk ---------------.. Enable GTK platform theme support [auto]

-lgmon --------------- Enable lgmon support [auto] (QNX only)

-no-opengl ---------.. Disable OpenGL support
-opengl ------.. Enable OpenGL support. Supported APIs:
es2 (default on Windows), desktop (default on Unix),
dynamic (Windows only)
-opengles3 ---------.. Enable OpenGL ES 3.x support instead of ES 2.x [auto]
-angle --------------- Use bundled ANGLE to support OpenGL ES 2.0 [auto]
(Windows only)
-combined-angle-lib .. Merge LibEGL and LibGLESv2 into LibANGLE (Windows only)

-qpa ---------. Select default QPA backend (e.g., xcb, cocoa, windows)
-xcb-xlib------------. Enable Xcb-Xlib support [auto]
</code></pre>

<p><strong>平台后端：</strong></p>

<pre><code>-direct2d ---------. Enable Direct2D support [auto] (Windows only)
-directfb ---------. Enable DirectFB support [no] (Unix only)
-eglfs ------------. Enable EGLFS support [auto; no on Android and Windows]
-gbm --------------- Enable backends for GBM [auto] (Linux only)
-kms --------------- Enable backends for KMS [auto] (Linux only)
-linuxfb ---------.. Enable Linux Framebuffer support [auto] (Linux only)
-mirclient --------- Enable Mir client support [no] (Linux only)
-xcb --------------- Select used xcb-* libraries [system/qt/no]
(-qt-xcb still uses system version of libxcb itself)
</code></pre>

<p><strong>输入后端</strong></p>

<pre><code>-evdev ------------. Enable evdev support [auto]
-imf --------------- Enable IMF support [auto] (QNX only)
-libinput ---------. Enable libinput support [auto]
-mtdev ------------. Enable mtdev support [auto]
-tslib ------------. Enable tslib support [auto]
-xinput2 ---------.. Enable XInput2 support [auto]
-xkbcommon-x11 ---.. Select xkbcommon used in combination with xcb
[system/qt/no]
-xkb-config-root --- With -qt-xkbcommon-x11, set default XKB config
root [detect]
-xkbcommon-evdev --- Enable X-less xkbcommon in combination with libinput
[auto]
</code></pre>

<p><strong>图像格式</strong></p>

<pre><code>-gif --------------- Enable reading support for GIF [auto]
-ico --------------- Enable support for ICO [yes]
-libpng ------------ Select used libpng [system/qt/no]
-libjpeg ---------.. Select used libjpeg [system/qt/no]
</code></pre>

<p><strong>数据库选项</strong></p>

<pre><code>-sql- ------.. Enable SQL plugin. Supported drivers:
db2 ibase mysql oci odbc psql sqlite2 sqlite tds
[all auto]
-sqlite ------------.. Select used sqlite3 [system/qt]
</code></pre>

<p><strong>Qt3D 选项</strong></p>

<pre><code>-assimp ------------.. Select used assimp library [system/qt/no]
-qt3d-profile-jobs --- Enable jobs profiling [no]
-qt3d-profile-gl ---.. Enable OpenGL profiling [no]
</code></pre>

<p><strong>多媒体选项</strong></p>

<pre><code>-pulseaudio ---------. Enable PulseAudio support [auto] (Unix only)
-alsa ---------------. Enable ALSA support [auto] (Unix only)
-no-gstreamer ------.. Disable support for GStreamer
-gstreamer [version] . Enable GStreamer support [auto]
With no parameter, 1.0 is tried first, then 0.10.
-mediaplayer-backend --- Select media player backend (Windows only)
Supported backends: directshow (default), wmf
</code></pre>

                        </div>
                    </div>
                    <div id="previous_next">
                        <div id="previous">
                            
                        </div>
                        <div id="next">
                            
                        </div>
                    </div>
                </div>
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
        <a id="to_top" href="#"></a>
        <div id="doc_footer">
                        
            <div id="footer">
                <div id="footer_top">
                    <ul>
<li><a>链接</a><ul><li><a target="_blank" href="https://www.sipeed.com">Sipeed</a></li>
<li><a target="_blank" href="https://bbs.sipeed.com/">BBS 论坛</a></li>
<li><a target="_blank" href="https://maixhub.sipeed.com/">Maixhub</a></li>
<li><a target="_blank" href="https://sipeed.taobao.com/">Sipeed 淘宝</a></li>
<li><a target="_blank" href="https://github.com/neutree/teedoc">使用 teedoc 构建</a></li>
</ul>
</li>
<li><a>网站统计</a><ul><li><a target="_blank" href="https://tongji.baidu.com/web/welcome/ico?s=9cb07365544a53067c56c346c838181a">百度统计</a></li>
<li><a  href="/sitemap.xml">网站地图</a></li>
</ul>
</li>
<li><a>源码</a><ul><li><a target="_blank" href="https://github.com/sipeed/sipeed_wiki">文档源文件</a></li>
<li><a target="_blank" href="https://github.com/sipeed">开源项目源码</a></li>
</ul>
</li>
<li><a>关注我们</a><ul><li><a target="_blank" href="https://github.com/sipeed">github</a></li>
<li><a target="_blank" href="https://twitter.com/SipeedIO">twitter</a></li>
<li><a target="_blank" href="https://sipeed.taobao.com/">淘宝</a></li>
<li><a  href="/social_group.html">更多</a></li>
</ul>
</li>
<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>
</li>
<li><a>商业支持: support@sipeed.com</a>
</li>
<li><a>地址: 深圳市宝安区新湖路华美居B区1号楼713-715</a>
</li>
<li><a  href="/join_us.html">加入我们</a></li>
</ul>
</li>
</ul>

                </div>
                <div id="footer_bottom">
                    <ul>
<li><a target="_blank" href="https://www.sipeed.com">©2018-2021 深圳矽速科技有限公司</a></li>
<li><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">粤ICP备19015433号-1</a></li>
</ul>

                </div>
            </div>
                    </div>
</body>
<script src="/static/js/theme_default/tocbot.min.js"></script>
<script src="/static/js/theme_default/main.js"></script>
<script src="/static/css/theme_default/prism.min.js"></script>
<script src="/static/js/custom.js"></script>
<script src="/static/js/search/search_main.js"></script>
<script type="text/javascript" src="/static/js/live.js"></script>
</html>
