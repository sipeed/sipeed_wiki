<!DOCTYPE html>

<html lang="zh"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="USB, RNDIS, DRIVE">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/prism.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9cb07365544a53067c56c346c838181a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119047820-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'UA-119047820-5');
    </script>
        
        <link rel="stylesheet" href="/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/js/thumbs_up/style.css" type="text/css"/>
        
    
    
    <title>Ghost 系列 USB 网卡（RNDIS) 使用教程 - Sipeed Wiki</title>
    
    <script type="text/javascript">js_vars = {"teedoc-plugin-ad-hint": {"type": "hint", "label": "NEW", "content": "全新 Maix 系列产品 <a href='https://wiki.sipeed.com/maixcam'>MaixCAM</a> 已上线, 全新 <a href='https://wiki.sipeed.com/maixpy/'>MaixPy</a> 功能更丰富，性能更强大，软件更易用，文档更全面！", "show_times": 2, "show_after_s": 432000, "date": "2022-06-01 14:00", "color": "#a0421d", "link_color": "#e53935", "link_bg_color": "#e6ae5c", "bg_color": "#ffcf89", "color_hover": "white", "bg_color_hover": "#f57c00", "close_color": "#eab971"}, "teedoc-plugin-thumbs-up": {"label_up": "有帮助", "label_down": "待改进", "icon": "/static/images/thumbs_up/up.svg", "icon_clicked": "/static/images/thumbs_up/upped.svg", "url": "https://thumbs-up.sipeed.com", "show_up_count": true, "show_down_count": false, "msg_already_voted": "您已经投过票了", "msg_thanks": "感谢您的反馈", "msg_down_prompt": "感谢反馈，请告诉我们可以改进什么地方?（最少 10 个字）", "msg_down_prompt_error": "消息最少需要 10 个字， 最多 256 个字", "msg_error": "请求服务器出现错误!"}}</script>
    <script type="text/javascript">metadata = {"tags": ["USB", "RNDIS", "DRIVE"], "date": "2022-10-20", "update": [], "ts": 1666224000, "author": "", "brief": "", "cover": ""}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/">
                
                    <img class="site_logo" src="/static/image/logo.svg" alt="sipeed wiki logo">
                
                
                    <h2>wiki</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/">产品</a></li>
<li class="sub_items "><a >开源软件</a><ul><li class=""><a  href="/maixpy/">MaixPy</a></li>
<li class=""><a  href="/soft/maixpy/zh/index.html">MaixPy_v1</a></li>
<li class=""><a  href="/soft/Lichee/zh/index.html">Lichee</a></li>
<li class=""><a  href="/ai/zh/index.html">AI 指南</a></li>
</ul>
</li>
<li class=""><a target="_blank" href="https://maixhub.com">MaixHub</a></li>
<li class="active"><a  href="/news/">动态</a></li>
<li class=""><a  href="/faq.html">FAQ 汇总</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class=""><a  href="/store.html"><img src='/static/image/shop.svg' style='height: 1.5em;vertical-align: middle;'></a></li>
<li class=""><a target="_blank" href="https://github.com/sipeed"><img src='/static/image/github.svg' style='height: 1.5em;vertical-align: middle;'></a></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">搜索</span>
                            <div id="search_hints">
                                <span id="search_input_hint">输入关键词，多关键词空格隔开</span>
                                <span id="search_loading_hint">正在加载，请稍候。。。</span>
                                <span id="search_download_err_hint">下载文件失败，请刷新重试或检查网络</span>
                                <span id="search_other_docs_result_hint">来自其它文档的结果</span>
                                <span id="search_curr_doc_result_hint">当前文档搜索结果</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="">
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1>Ghost 系列 USB 网卡（RNDIS) 使用教程</h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                                <li>USB</li>
                            
                                <li>RNDIS</li>
                            
                                <li>DRIVE</li>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="最后修改日期： 2022-10-20">
                                    2022-10-20
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/sipeed/sipeed_wiki/blob/main/news/others/usb_rndis/usb_rndis.md" target="_blank">
                                    <span id='editPage'>编辑本页</span>
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <span id="blog_start"></span><p>本文为转载网上文章，与任何产品的使用无关，本文仅方便用户快速了解 USB RNDIS 驱动安装的详细过程，故转载了这篇文章：<a href="https://www.foream.com/wiki/docs/mindoc/mindoc-1b2er0dm4pos9"  target="_blank">原文链接</a></p>
<h2 id="%E7%AE%80%E8%BF%B0">简述</h2>
<p>本文档主要描述 GHOST 4K 相机如何工作在 USB 网卡模式（符合 RNDIS 规范）如何 PC 端通过 USB 连接相机后与相机 TCP/IP 通讯，并通过 RTSP 或 RTMP 视频通讯协议获取到相机的视频流方法。本方法使用了 RNDIS <code>（Remote Network Driver Interface Specification）</code> 远程网络驱动接口规范， 就是在USB设备上跑 TCP/IP，让相机看上去像一块 PC 的网卡。<br />
 RNDIS 是 Windows7 的一部分， 但遗憾的是如果默认安装（插上符合 RNDIS 的设备时）一般均会安装失败，本文档会描述如何重新安装 RNDIS 驱动。</p>
<h2 id="%E5%A6%82%E4%BD%95-enable-GHOST-4K-%E7%9B%B8%E6%9C%BA%E4%B8%BAUSB%E7%BD%91%E5%8D%A1%E6%A8%A1%E5%BC%8F">如何 enable GHOST 4K 相机为USB网卡模式</h2>
<ol>
<li><p>相机固件版本号： v2.0 以上</p>
</li>
<li><p>在相机 SD 卡的根目录下创建文件名为 <code>fmcam.conf</code> 的文本文件</p>
</li>
</ol>
<details>
<summary>查看注意事项</summary>
<div class="details-content"><p>请注意有些系统配置会自动加上 <code>.txt</code> 的扩展名变为 <code>fmcam.conf.txt</code> 请删除 <code>.txt</code>,确保文件名只为 <code>fmcam.conf</code>。<br />
文件内容如下:<br />
usb_net=1<br />
usb_net_host=192.168.5.1<br />
usb_net_ip=192.168.5.2</p>
</div>
</details>
<ol start="3">
<li>相机进入 USB 网卡模式后，相机 WIFI 指示灯会亮绿灯。</li>
</ol>
<h2 id="%E5%A6%82%E4%BD%95%E5%9C%A8-Windows7-%E4%B8%8A%E5%AE%89%E8%A3%85-RNDIS-%E9%A9%B1%E5%8A%A8">如何在 Windows7 上安装 RNDIS 驱动</h2>
<ol>
<li>相机使用如上 <code>mcam.conf</code> 脚本文件开机后，插入 USB 并连接到 PC 端，Windows7 会弹出正在安装设备驱动程序软件消息。<br />
<img src="./assets/rndis-one.jpg" alt="rndis-one" /></li>
</ol>
<blockquote>
<p><strong>注意</strong>： 请确保相机先开机，识别到有效的 <code>fmcam.conf</code> 脚本文件才会进 USB 网卡模式，如果是关机插入 USB 连接电脑，会进入到 MSC U 盘模式。</p>
</blockquote>
<ol start="2">
<li><p>Windows 会自动搜索并安装 RNDIS 驱动，不过片刻之后您会发现安装失败。<br />
<img src="./assets/rndis-two.jpg" alt="rndis-two" /></p>
</li>
<li><p>右键点击桌面<strong>计算机</strong>图标，选择<strong>管理</strong>——<strong>设备管理</strong>，可以看到 <code>RNDIS/Ethernet Gadget</code> 设备，并且处于驱动未安装状态。<br />
<img src="./assets/pc.jpg" alt="pc" /></p>
</li>
<li><p>右键点击 <code>RNDIS/Ethernet Gadget</code> 设备，选择<strong>更新驱动程序软件</strong>，在如何搜索设备软件提示窗口中，选择<strong>浏览计算机查找驱动程序软件（R）</strong>。选择从设备列表中选择<strong>网络适配器</strong>。<br />
<img src="./assets/gadget.-r.jpg" alt="gadget-r" /></p>
</li>
<li><p>选择<strong>从计算机的设备驱动程序列表中选择(L)</strong>。<br />
<img src="./assets/gadget-l.jpg" alt="garget-l" /></p>
</li>
<li><p>在硬件设备列表中往下拉，找到<strong>网络适配器</strong>,选中并<strong>下一步</strong>。<br />
<img src="./assets/rndis-four.jpg" alt="rndis-four" /></p>
</li>
<li><p>在网络适配器窗口的制造商列表中选择<strong>微软公司（Microsoft Corporation）</strong>,右侧列表中选择远端 <code>RNDIS</code> 兼容设备（Remote NDIS Compatible Device）<br />
<img src="./assets/microsoft.jpg" alt="microsoft" /></p>
</li>
<li><p>弹出如下警告窗口，请选 <code>YES</code><br />
<img src="./assets/rndis-five.jpg" alt="rndis-five" /></p>
</li>
<li><p>点击<strong>是</strong>并等待安装结束，<code>RNDIS</code> 设备将会安装成功<br />
<img src="./assets/rndis-six.jpg" alt="rndis-six" /></p>
</li>
<li><p>在<strong>控制面板</strong>中选择<strong>网络和Internet</strong>下的<strong>查看网络状态和任务</strong>：<br />
<img src="./assets/rndis-seven.jpg" alt="rndis-seven" /></p>
</li>
<li><p>选择<strong>更改适配器设置</strong><br />
<img src="./assets/rndis-eight.jpg" alt="rndis-eight" /></p>
</li>
<li><p>可以看到网络连接中多了一个本地连接<code>（RNDIS/Ethernet Gedget）</code><br />
<img src="./assets/rndis-nine.jpg" alt="rndis-nine" /></p>
</li>
<li><p>设置新增的 <code>USB</code> 网卡的 <code>IP</code> 地址（要求与相机配置文件 <code>fmcam.conf</code> 指定的 <code>usb_net_host</code> 的值一致）</p>
<ul>
<li>右击<strong>本地连接（RNDIS/Ethernet Gadget)</strong></li>
</ul>
<p><img src="./assets/rndis-ten.jpg" alt="rndis-ten" /></p>
<ul>
<li>选中 <strong>Internet 协议版本 4(TCP/IPv4)</strong>，点击<strong>属性</strong>按键，指定 <code>PC</code> 网卡的 <code>IP</code> 地址为: <code>192.168.5.1</code>.</li>
</ul>
<p><img src="./assets/ipv4.jpg" alt="ipv4" /></p>
</li>
<li><p>判断 <code>PC</code> 与相机是否可以 <code>ping</code> 通，检测方法如下：从电脑开始里找到运行，然后在运行对话框中输入 <code>CMD</code> 命令，之后按回车键，进入 <code>CMD</code> 命令操作界面，如下图：<br />
<img src="./assets/cmd.jpg" alt="cmd" /></p>
<p>输入命令符按回车键（或点确认键）后即可进入 <code>CMD</code> 命令操作框，然后我们再输入 <code>ping</code> 命令，输入: <code>ping 192.168.5.2</code> ， 其中 <code>192.168.5.2</code> 是相机脚本文件，<code>fmcam.conf</code> 中用户设定的相机 <code>IP</code>。<br />
<img src="./assets/ping.jpg" alt="ping" /><br />
如果能 <code>ping</code> 通，说明相机与 <code>PC</code> 端建立 <code>TCP/IP</code> 连接成功。</p>
</li>
</ol>
<h2 id="PC-%E7%AB%AF%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E7%9B%B8%E6%9C%BA%E7%9A%84%E8%A7%86%E9%A2%91%E6%B5%81">PC 端如何获取相机的视频流</h2>
<h3 id="%E8%AE%BE%E7%BD%AE%E8%A7%86%E9%A2%91%E6%B5%81%E7%9A%84%E5%88%86%E8%BE%A8%E7%8E%87%E5%8F%8A%E7%A0%81%E7%8E%87">设置视频流的分辨率及码率</h3>
<p>在相机 <code>SD</code>卡中的配置文件 <code>fmcam.conf</code> 增加两个选项 <code>stream_resolution</code> 和  <code>stream_bitrate</code> 如：</p>

<pre class="language-bash"><code class="language-bash">usb_net=1

usb_net_host=192.168.5.1

usb_net_ip=192.168.5.2

stream_resolution=4KUHD

stream_bitrate=25000000
</code></pre>
<p><code>stream_resolution</code> 用于设置相机视频流的分辨率，可以为 <code>4KUHD/1080P/720P/WVGA</code> , 均为 <code>30fps</code> 分别代表如下分辨率：</p>

<pre class="language-bash"><code class="language-bash">4KUHD： 3840*2160

1080P：  1920*1080

720P：   1280*720

WVGA：  848*420
</code></pre>
<p><code>stream_bitrate</code> 用于设置相机视频流的码率，其中 1000000 代表 1Mbps, 25000000 代表 25Mbps, 800000 代表 800kbps.</p>
<h3 id="%E8%8E%B7%E5%8F%96-RTSP-%E8%A7%86%E9%A2%91%E6%B5%81">获取 RTSP 视频流</h3>
<p><code>PC</code> 端安装 <code>VLC 播放器</code>，在菜单<strong>媒体/打开网络串流</strong>中输入 <code>rtsp://192.168.5.2/live</code>，可获得 <code>RTSP</code> 协议的视频流，其中 <code>192.168.5.2</code> 为相机的 <code>IP</code> 地址。</p>
<p><img src="./assets/rtsp.jpg" alt="rtsp" /></p>
<h3 id="%E5%A6%82%E4%BD%95-PC-%E7%AB%AF%E9%80%9A%E8%BF%87-USB-%E7%BD%91%E5%8D%A1%E6%A8%A1%E5%BC%8F%E8%8E%B7%E5%8F%96%E5%A4%9A%E5%8F%B0-GHOST-4K-%E7%9A%84%E8%A7%86%E9%A2%91%E6%B5%81">如何 PC 端通过 USB 网卡模式获取多台 GHOST 4K 的视频流</h3>
<ol>
<li><p>配置相机为 <code>USB</code> 网卡模式，并配置为不同的网段：</p>
<p>CAM1 的脚本文件 <code>fmcam.conf</code> 如下：</p>

<pre class="language-bash"><code class="language-bash"> usb_net=1

 usb_net_host=192.168.5.1

 usb_net_ip=192.168.5.2

 stream_resolution=4KUHD

 stream_bitrate=25000000
</code></pre>
<p>CAM2 的脚本文件如下：</p>

<pre class="language-bash"><code class="language-bash">usb_net=1

usb_net_host=192.168.6.1

usb_net_ip=192.168.6.2

stream_resolution=4KUHD

stream_bitrate=25000000
</code></pre>
<p>CAM3 的脚本文件如下：</p>

<pre class="language-bash"><code class="language-bash">usb_net=1

usb_net_host=192.168.7.1

usb_net_ip=192.168.7.2

stream_resolution=4KUHD

stream_bitrate=25000000
</code></pre>
<p>CAM4 的脚本文件如下：</p>

<pre class="language-bash"><code class="language-bash">usb_net=1

usb_net_host=192.168.8.1

usb_net_ip=192.168.8.2

stream_resolution=4KUHD

stream_bitrate=25000000
</code></pre>
</li>
<li><p>当这 4 台相机通过 <code>USB</code> 连接 <code>PC</code> 端后， 会分别提示安装 <code>RNDIS/Ethernet Gedget</code> 驱动，按上述方法安装驱动成功后，在网络连接中会多 4 个 <code>RNDIS/Ethernet Getget</code> 网卡，分别设置对应相机的 <code>USB</code> 网卡地址为如：</p>
<p>CAM1 USB 网卡 IP 地址：<code>192.168.5.1</code></p>
<p>CAM2 USB 网卡 IP 地址：<code>192.168.6.1</code></p>
<p>CAM3 USB 网卡 IP 地址：<code>192.168.7.1</code></p>
<p>CAM4 USB 网卡 IP 地址：<code>192.168.8.1</code></p>
</li>
<li><p>获取多台设备的视频流, 这 4 台设备的 <code>RTSP</code> 视频流地址分别为：</p>
<p>CAM1 USB 网卡 IP 地址：<code>rtsp://192.168.5.2/live</code></p>
<p>CAM2 USB 网卡 IP 地址：<code>rtsp://192.168.6.2/live</code></p>
<p>CAM3 USB 网卡 IP 地址：<code>rtsp://192.168.7.2/live</code></p>
<p>CAM4 USB 网卡 IP 地址：<code>rtsp://192.168.8.2/live</code></p>
</li>
</ol>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                    </div>
                    <div id="next">
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>相关链接</a><ul><li><a target="_blank" href="https://www.sipeed.com">Sipeed 官网</a></li>
<li><a target="_blank" href="https://maixhub.com/">MaixHub</a></li>
<li><a target="_blank" href="https://sipeed.taobao.com/">Sipeed 淘宝</a></li>
<li><a  href="/sitemap.xml">网站地图</a></li>
<li><a target="_blank" href="https://github.com/teedoc/teedoc">网站使用 teedoc 生成</a></li>
</ul>
</li>
<li><a>源码</a><ul><li><a target="_blank" href="https://github.com/sipeed/sipeed_wiki">Wiki 源码</a></li>
<li><a target="_blank" href="https://github.com/sipeed">开源项目</a></li>
</ul>
</li>
<li><a>关注我们</a><ul><li><a target="_blank" href="https://twitter.com/SipeedIO">twitter</a></li>
<li><a target="_blank" href="https://sipeed.taobao.com/">淘宝</a></li>
<li><a target="_blank" href="https://github.com/sipeed">github</a></li>
<li><a><a>微信公众号</a><img src='/static/image/wechat.png'></a>
</li>
</ul>
</li>
<li><a>联系我们</a><ul><li><a>电话: +86 0755-27808509</a>
</li>
<li><a>商业支持: support@sipeed.com</a>
</li>
<li><a>地址: 深圳市宝安区新湖路4008号蘅芳科技办公大厦A座-2101C</a>
</li>
<li><a  href="/join_us.html">加入我们</a></li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://www.sipeed.com">©2018-2023 深圳矽速科技有限公司</a></li>
<li><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">粤ICP备19015433号</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "translate.google.com";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                    console.log("load google translate domain from local storage:" + domain);
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                console.log("google translate domain:" + domain + ", url: " + url);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/js/prism.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/static/js/gitalk/main.js"></script>
    
        <link rel="stylesheet" href="/static/js/add_hint/style.css" type="text/css"/>
    
        <script src="/static/js/add_hint/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
        <script src="/static/js/thumbs_up/main.js"></script>
    
</body>

</html>