{"/soft/maixduino/zh/libs/sd.html":{"title":"","content":""},"/soft/maixduino/zh/libs/maix_kpu.html":{"title":"","content":""},"/soft/maixduino/zh/libs/sipeed_st7789.html":{"title":"","content":""},"/soft/maixduino/zh/libs/spi.html":{"title":"","content":""},"/soft/maixduino/zh/libs/camera.html":{"title":"","content":""},"/soft/maixduino/zh/libs/msa300.html":{"title":"","content":""},"/soft/maixduino/zh/libs/littlevgl.html":{"title":"","content":""},"/soft/maixduino/zh/libs/wire.html":{"title":"","content":""},"/soft/maixduino/zh/libs/ticker.html":{"title":"","content":""},"/soft/maixduino/zh/libs/speechrecg.html":{"title":"","content":""},"/soft/maixduino/zh/libs/ns2009.html":{"title":"","content":""},"/soft/maixduino/zh/libs/wifiesp.html":{"title":"","content":""},"/soft/maixduino/zh/libs/sipeed_ov2640.html":{"title":"","content":""},"/soft/maixduino/zh/cores/analog.html":{"title":"模拟 I/O","content":"模拟 I/O Maixduino 使用 K210 芯片的 PWM 模块实现模拟输出 analogWrite() 功能。 不能使用模拟输入 analogRead() 功能 Maixduino 可以在 48 个自由引脚中最多选择 12 个设置模拟输出功能。(使用硬件定时器会减少可用引脚。) ## analogWrite() ### 描述 设置一个模拟值（PWM波）到选定引脚。 可用于点亮不同亮度的LED或改变驱动电机的速度。 ### 用法 `analogWrite(pin, value)` ### 参数 `pin`: 要设置的引脚。允许的数据类型: `int`。 `value`: 占空比，取值 0 255 . 允许的数据类型: `int`。 ### 返回值 无 ### 注意事项 使用 Ticker 库或者硬件定时器可能会和 PWM 产生冲突。 ## analogWriteResolution() ### 描述 `analogWriteResolution()` 是 Maixduino 的扩展 API 。 `analogWriteResolution()` 用于设置 `analogWrite()` 的精度. 默认为 8 位 (取值范围 0 255)。 通过将精度设置为 12 位, `analogWrite()` 的取值范围可变为 0 4095 。 ### 用法 `analogWriteResolution(bits)` ### 参数 `bits`: 确定analogWrite（）函数中使用的值的分辨率（以位为单位）。该值的范围为1到32。 ### 返回值 无 ### 注意事项 通过调整PWM占空比可能不会导致显着的精度变化。 ### 示例代码 ### 示例代码 Maix Bit, Maix Dock, Maix Go ``` int led1 12; // LED_BLUE int led2 13; // LED_GREEN LED_BUILTIN int led3 14; // LED_RED void setup() { pinMode(led1, OUTPUT); pinMode(led2, OUTPUT); pinMode(led3, OUTPUT); } void setColor(int red, int green, int blue) { analogWrite(led1, 255 blue); analogWrite(led2, 255 green); analogWrite(led3, 255 red); } void loop() { int i, j; for (i 0, j 255; i<256; i++) { setColor(i, j, 0); delay(4); j ; } delay(100); for (i 0, j 255; i<256; i++) { setColor(j, 0, i); delay(4); j ; } delay(100); for (i 0, j 255; i<256; i++) { setColor(0, i, j); delay(4); j ; } delay(100); } ``` ### 示例代码 Maixduino ``` int led1 1; // LED_BUILTIN void setup() { pinMode(led1, OUTPUT); } void setColor(int value) { analogWrite(led1, 255 value); } void loop() { int i; for (i 0; i<256; i++) { setColor(i); delay(4); } delay(100); } ```"},"/soft/maixduino/zh/cores/serial.html":{"title":"Serial","content":"Serial In Maixduino, there are two types of serial devices, `UARTHSClass` and `UARTClass`. The `Serial` corresponds to the `UARTHSClass`, and the remaining `Serial1`, `Serial2`, and `Serial3` are `UARTClass`. `Serial` uses the default pin as **4** (RX), **5** (TX). So you can use it in the serial monitor on your computer.The default pins for the other three global serial ports are **6**(RX), and **7**(TX) (they are connected to the WiFi module),To use them correctly, set different pins for them in `begin()`. ## Functions The operation of the serial port is exactly the same as that of Arduino. You can find more information on the [Arduino website](https://www.arduino.cc/reference/en/language/functions/communication/serial/). `if(Serial)` `available()` `availableForWrite()` `begin()` `end()` `find()` `findUntil()` `flush()` `parseFloat()` `parseInt()` `peek()` `print()` `println()` `read()` `readBytes()` `readBytesUntil()` `readString()` `readStringUntil()` `setTimeout()` `write()` `serialEvent()` ## Serial port settings Serial.begin(BaudRate, RX , TX ) ### Notes For `platform.io` change the serial monitor baudrate in `platform.ini`. ``` ; serial monitor baudrate monitor_speed 115200 ``` ## Serial.println() ### 描述 Prints data to the serial port as human readable ASCII text followed by a carriage return character (ASCII 13, or '\\r') and a newline character (ASCII 10, or '\\n'). This command takes the same forms as `Serial.print()`. ### 用法 `Serial.println(val)` `Serial.println(val, format)` ### 参数 `Serial`: serial port object. `val`: the value to print. Allowed data types: any data type. `format`: specifies the number base (for integral data types) or number of decimal places (for floating point types). ### 返回值 `println()` returns the number of bytes written, though reading that number is optional. Data type: `size_t`. ### 示例代码 ``` #include <Arduino.h> void setup() { Serial.begin(9600); } void loop() { Serial.println(\"Hello world\"); delay(2000); } ``` ## Serial Monitor in `platform.io` ``` Available ports: 1: /dev/ttyUSB0 'USB Debugger' 2: /dev/ttyUSB1 'USB Debugger' Enter port index or full name: 2 ```"},"/soft/maixduino/zh/cores/advanced.html":{"title":"高级 I/O","content":"高级 I/O ## tone() ### 描述 在引脚上生成指定频率（和 50％ 占空比）的方波。可以指定持续时间，否则声音会一直持续到调用noTone（）结束。该引脚可以连接到压电蜂鸣器或其他扬声器来播放声音。 ### 用法 `tone(pin, frequency)` `tone(pin, frequency, duration)` ### 参数 `pin`: 选定产生声音信号的引脚。 `frequency`: 产生声音的频录，单位 HZ 。数据类型 ： `unsigned int` `duration`: 产生声音的时间，单位 毫秒。 数据类型 ： `unsigned long` ### 返回值 无 ### 注意事项 如果你想在多个引脚上播放不同的音高，你需要在一个引脚上调用 `noTone()` 然后在下一个引脚上调用 `tone()`。 ## noTone() 停止由 `tone()` 产生的声音输出。如果没有声音，则此函数无效。 ### 用法 `noTone(pin)` ### 参数 `pin`: 要停止产生声音的引脚。 ### 返回值 无 ### 注意事项 如果你想在多个引脚上播放不同的音高，你需要在一个引脚上调用 `noTone()` 然后在下一个引脚上调用 `tone()`。"},"/soft/maixduino/zh/cores/interrupts.html":{"title":"","content":""},"/soft/maixduino/zh/cores/digital.html":{"title":"数字 I/O","content":"数字 I/O Maixduino 支持基本的 Arduino 输入输出函数，你可以像使用其他 Arduino 开发板一样使用它们。 * Maixduino 可以自由操作不超过 32 个数字 IO 口，并可以将它们同时映射到 48 个 FPIO 上。 ## digitalRead() ### 描述 从选定的 IO 引脚读取电平, `HIGH`或者`LOW`. ### 用法 `digitalRead(pin)` ### 参数 `pin` : 你要读取的数字 IO 引脚。（0 47， Maixduino board 为 0 13*） ### 返回值 `HIGH` 或者 `LOW` ### 注意事项 * 只有在 `pinMode()` 初始化后的引脚才可以读取。 * \\* Maixduino board 上的 SDA SCL 可作为普通数字引脚 14 15 号使用，BOOT key 作为 16 号引脚使用。 ## digitalWrite() ### 描述 将一个数字引脚设置为高电平或者低电平。 ### 用法 `digitalWrite(pin, value)` ### 参数 `pin`: 引脚号 `value`: `HIGH` 或者 `LOW` ### 返回值 无 ### 注意事项 * 只有在 `pinMode()` 初始化后的引脚才可以改变状态。 ## pinMode() ### 描述 设置一个引脚为输入或输出模式。 ### 参数 `pin`: 需要设置的引脚 `mode`: `INPUT`, `OUTPUT`, `INPUT_PULLDOWN` 或者 `INPUT_PULLUP`. ### 返回值 无 ### 注意事项 在使用 `digitalRead()` 或者 `digitalWrite()` 前，必须使用此函数初始化对应引脚。 ### 示例代码 ``` void setup() { pinMode(13, OUTPUT); // sets the digital pin 13 as output } void loop() { digitalWrite(13, HIGH); // sets the digital pin 13 on delay(1000); // waits for a second digitalWrite(13, LOW); // sets the digital pin 13 off delay(1000); // waits for a second } ``` 将引脚13设置为与引脚16相同的值，声明为输入。 ``` int ledPin 13; // LED connected to digital pin 13 int inPin 16; // pushbutton connected to digital pin 16 int val 0; // variable to store the read value void setup() { pinMode(ledPin, OUTPUT); // sets the digital pin 13 as output pinMode(inPin, INPUT); // sets the digital pin 16 as input } void loop() { val digitalRead(inPin); // read the input pin digitalWrite(ledPin, val); // sets the LED to the button's value } ```"},"/soft/maixduino/zh/cores/constants.html":{"title":"","content":"常量 Maixduino 兼容绝大多数的 Arduino 常量， 你能在下列网站找到使用说明。[Arduino website](https://www.arduino.cc/reference/en/#variables). ## LED ``` #define LED_BUILTIN 13 #define LED_GREEN 13 #define LED_BLUE 12 #define LED_RED 14 ```"},"/soft/maixduino/zh/cores/time.html":{"title":"","content":"时间 ## delay() ### 描述 使程序暂停一段时间（以毫秒为单位）。 （一秒钟内有1000毫秒）。 ### 用法 `delay(ms)` ### 参数 `ms`: 要暂停的毫秒数。 数据类型：`unsigned long` ### 返回值 无 ## delayMicroseconds() ### 描述 使程序暂停一段小时间（以微秒为单位）。 （一秒钟内有1000000毫秒）。 ### 用法 `delayMicroseconds(us)` ### 参数 `us`: 要暂停的微秒数。 数据类型：`unsigned int` ### 返回值 无 ## micros() 返回自Maixduino开始运行当前程序以来的微秒数。 ### 用法 `time micros()` ### 参数 无 ### 返回值 返回自Maixduino开始运行当前程序以来的微秒数。 数据类型 ： `unsigned long` ## millis() ### 描述 返回自Maixduino开始运行当前程序以来经过的毫秒数。大约50天后，此数字将溢出（回到零）。 ### 用法 `time millis()` ### 参数 无 ### 返回值 自程序启动以来经过的毫秒数。数据类型 ：`unsigned long`"},"/soft/maixduino/zh/get_started/arduinoide.html":{"title":"","content":""},"/soft/maixduino/zh/get_started/platformio.html":{"title":"安装 platformio 环境","content":"# 安装 platformio 环境 ## 在VScode下安装Platformio 1. 下载安装VSCode 在VScode下，PlatformIO属于扩展组件一部分，只要在Vscode的Extensions中搜索PlatformIO即可点击在线安装 ![](./../../assets/platformIO_1.png) 安装过程中时间过长，建议科学上网。"},"/soft/maixduino/zh/get_started/install.html":{"title":"安装 Arduino 环境","content":"安装 Arduino 环境 ! 请使用**最新版本**的 Arduino IDE, 旧版本 IDE 无法解析 HTTP301，导致无法正确下载开发板元信息。 ## Linux ### 下载 Arduino IDE Arduino IDE可以在 [官方下载页面](https://www.arduino.cc/en/Main/Software)找到。 ### 安装 对于Ubuntu, 在终端执行以下命令： ```shell sudo usermod a G dialout $(whoami) sudo apt install python3 python3 pip sudo pip3 install pyserial ``` 注意，设置后你需要**注销** 或者 **重启** ,否则设计不会生效。 ### 在Arduino IDE中添加开发板 * 添加URL 打开 Arduino IDE, 选择 `文件` > `首选项`, 在`附加开发板管理器网址`中添加以下URL, 如果已经存在，请不要忘记要用逗号分隔。 `http://dl.sipeed.com/MAIX/Maixduino/package_Maixduino_k210_index.json` 如果下载过慢，也可以尝试这个链接。 `http://dl.sipeed.com/MAIX/Maixduino/package_Maixduino_k210_dl_cdn_index.json` ![](../../assets/arduino_settings.png) * 安装开发板工具和库 选择 `工具` > `开发板` > `开发板管理器`， 搜索 `Maixduino`, 选择最新版本然后点击 `安装`。 ![](../../assets/arduino_board.png) ![](../../assets/maixduino_install.png) ### 更改开发板设置 更改开发板设置，在Arduino IDE顶栏中的 `工具`栏下面可以找到。 * `开发板`:选择你的开发板。 * `烧录固件`:仅支持Maix GO, 默认 `open ec`。 * `烧录波特率`:如果烧录失败请降低波特率。 * `端口`: 串口端口, e.g. `/dev/ttyUSB0` * **`程序员`**: 烧录工具,你 **必须** 选择 **`k flash`** ![](../../assets/arduino_board.png) ## Windows ### 下载Arduino IDE [official download page](https://www.arduino.cc/en/Main/Software) 然后双击安装包进行安装 ### 在 Arduino IDE中添加开发板 * 添加 URL 打开Arduino IDE, 选择 `文件` > `首选项`, 添加 `附加开发板管理器网址`: `http://dl.sipeed.com/MAIX/Maixduino/package_Maixduino_k210_index.json` (推荐) 或者 `http://dl.sipeed.com/MAIX/Maixduino/package_Maixduino_k210_dl_cdn_index.json` (如果上面的链接下载过慢，请尝试这个链接) ![](../../assets/arduino_settings.png) * 安装开发板工具和库 选择`工具` > `开发板` > `开发板管理器`， 搜索 `Maixduino`, 点击 `安装` ![](../../assets/arduino_board.png) ![](../../assets/maixduino_install.png) ### 重新设置开发板 在Arduino IDE顶部的 `工具` 栏中重新设置开发板 * `开发板`:选择你的开发板。 * `烧录固件`:仅支持Maix GO, 默认 `open ec`。 * `烧录波特率`:如果烧录失败请降低波特率。 * `端口`: 串口端口, e.g. `/dev/ttyUSB0` * **`程序员`**: 烧录工具,你 **必须** 选择 **`k flash`** ![](../../assets/arduino_board.png)"},"/soft/maixduino/zh/get_started/get_hardware.html":{"title":"获得一块开发板","content":"获得一块开发板 你可以在Sipeed官方淘宝网店购买到你喜欢的开发板： [Taobao](https://shop365481095.taobao.com/) ## 获得硬件 ### 一块开发板 点击[这里](../hardware/board.html)选择一块开发板 ### USB Type C 连接线 ![Type C](../../assets/type_c.png) 选用 Type C 是因为它支持正反插，对开发十分友好。 从淘宝官方购买可以询问是否附送， 目前大部分安卓机也在使用 Type C 连接线。 ### 屏幕 默认使用 st7789驱动芯片的 LCD （24pin接口）， 分辨率为 320x240。 从淘宝官方购买可以询问是否包含。 ### 摄像头 默认使用 ov2640。 从淘宝官方购买可以询问是否包含。 ### Micro SD卡 （TF 卡） （可选） 不使用 SD 卡也是可以操作文件的， 在内部 Flash 上已经保留一部分来作为文件系统了，只是 Flash 速度很慢！ 为了方便图片文件快速操作，可以选择购买一张 Micro SD 卡，　 MaixPy　内置了 SPI SD卡协议驱动， 购买时尽量选择速度快协议新的 Micro SD 卡， 比如 SD 2代协议， Class10 的内存卡 因为 K210 没有 SDIO 硬件外设， 所以使用了 SPI 来与 SD 卡通信， 当然，市面上的 SD 卡品质参差不齐， SPI 模式不一定都能兼容， 尽量买正规的卡， 实在有需求请自行定制驱动～～ 如下图， 左边两张卡 MaixPy 的驱动不支持， 中间和右边的都支持， 但是中间的 class10 卡速度最快 ![](../../assets/TF.png) ### ST Link （用来给开发板 Maix Go 上的 STM32 更新固件） （可选） 如果购买的是 `Maix Go`， 上面集成了一颗 `STM32` 芯片， 用来模拟`USB转串口`工具， 以及模拟`JTAG`, 如果想后期自行更新其固件，建议购买一个`ST Link`备用。 ### JTAG 调试器 （可选） `K210` This chip supports `JTAG` debugging. If you need debugging function, you need to use `JTAG` debugger. Please consult the official `Sipeed` Taobao shop. `K210` 这款芯片支持`JTAG`调试， 如果需要调试功能， 需要使用`JTAG`调试器， 请在`Sipeed`官方淘宝店咨询购买。 如果是`Maix Go`开发板，可以不用另外购买`JTAG`调试器，`Maix Go`开发板上面集成了一个 `STM32`芯片，可以模拟`JTAG`（`STM32`使用 `CMSIS DAP`或者`open ec`固件），`open ec`固件目前还不支持，后续会支持，请以`open ec`github 项目主页说明为准。"},"/soft/maixduino/zh/contribute/index.html":{"title":"Contribute to the project","content":"Contribute to the project 由于是开源项目，欢迎大家参与进来共同改进Maixduino. For a better readable documentation and code we need a code convention (including format, style, etc.) 主要有以下几个方面可以参与进来： * [文档修改](./doc_convention.html) * [Code convention](./code_convention.html)"},"/soft/maixduino/zh/contribute/doc_convention.html":{"title":"文档规范","content":"文档规范 文档使用 gitbook 进行构建， 并使用简单高效的 Markdown 编写内容 文档源码托管在 [GitHub](https://github.com/sipeed/Maixduino_DOC) ## Markdown 语法 Markdown 的基础语法如果没接触过， 请花半个小时进行学习， 推荐github的教程： [github Markdown 教程](https://guides.github.com/features/mastering markdown/) 在本文中， 以下几点我们需要注意： ### 标题类的语法标记必须使用空格隔开，大标题与正文之间需要一个空行，比如： ```markdown ## 这是二级标题 * 这是列表项1 * 这是列表项2 ``` 而如下所示的则不是正确的，可能会导致解析器出现解析错误格式错乱等 ```markdown ##这是二级标题 *这是列表项1 *这是列表项2 ``` ### 所有页面只有一个一级标题 由于需要自动生成目录，主要是为了保证自动生成的目录正确。 每个页面这样写 ``` 页面标题/一级标题 (这里等号至少需要三个) ( 至少需要一个以上的空行，建议2行 ) ## 二级标题1 ( 这里不能使用一级标题，及不能用一个#号。 也不需要写序号，会自动生成序号) ( 空一行 ) 正文 ( 至少空一行) ### 三级标题 ( 类似二级标题, 也不需要写需要，会自动生成) 正文 ## 二级标题2 正文 ``` ### 链接 由于页面众多，而且需要链接图片等资源，在写链接时，均使用相对路径， 比如目录结构如下 ``` assets/ (放公用的资源文件) pic000.png en/ get_started/ assets/ (放get_started目录下md文件公用的资源文件) pic.png get_hardware.md how_to_read.md zh/ ``` 如果在`get_hardware.md`中贴图片，将图片放进`assets`文件夹后，使用如下代码引用图片 ``` ![pic](assets/pic.png) ![pic](../../assets/pic000.png) ``` ### 中英文混写 在写中文文档时，在中文中夹杂英文尽量用空格隔开，标点符号尽量使用全角符号， 主要是为了显眼，让文档更优雅。 比如如下对比： ```markdown The `setup` function is called when a sketch starts. Use it to initialize variables, pin modes, start using libraries, etc. ``` The `setup` function is called when a sketch starts. Use it to initialize variables, pin modes, start using libraries, etc. ```markdown The setup function is called when a sketch starts. Use it to initialize variables, pin modes, start using libraries, etc. ``` The setup function is called when a sketch starts. Use it to initialize variables, pin modes, start using libraries, etc. ## 目录和文件名 * 生成的文档目录在对应语言的文件夹`SUMMARY.md`中编辑 * 源文档的文件夹尽量一个功能模块对应一个文件夹，资源文件（图片）放置到对应 md 文档的当前路径的 `assets`文件夹目录下，这样在增删修改时更方便 ``` assets/ (放公用的资源文件) en/ get_started/ assets/ (放get_started目录下md文件公用的资源文件) get_hardware.md zh/ ``` * 文件名除了`README.md`特殊，其它文件名使用 小写+下划线 的命名方式，比如 `get_hardware.md` ## 中英文（多语言）的页面文件目录结构和文件名相同 由于最后生成的页面中有多语言切换选项，点击切换后会直接访问对应语言的相同路径，所以中英文的目录结构和文件名必须相同。 比如英文正在访问`en/get_started/how_to_read.md`， 点击语言切换的按钮后，会自动访问`zh/get_started/how_to_read.md`， 如果这个文件不存在就会报`404`错误！ ## 目录和链接 尽量引导阅读者使用目录，文内跳转链接慎用，如果链接跳得比较乱，会导致文档看起来比较乱，阅读会比较困难。 ## 模块文档内容 * 需要在文件头部包含模块的介绍 * 需要分点说明构造函数、函数、常量等 * **说明不能偷懒只简单将函数名称翻译一遍，需要详细说明函数的功能、参数的取值范围以及注意点** ## 多版本管理 文档除了做了中英文（多语言）支持（不是自动翻译，需要手动修改）， 也做了多版本管理。 每个版本是一个分支， 对分支名字有要求， 分别为： * `master` 分支为主分支 * `dev`分支为开发分支 * 其它的发布的历史版本均以小写 `v` 开头，比如创建一个分支叫 `v1.2` 创建好新的分支后，需要在每个语言版本的目录下 `book.json`中修改版本链接，不然读者找不到入口 可以在新建的分支下本地预览（预览方法见根目录 `README.md`）， 注意这时候预览的页面就是当前分支的内容，如果要本地预览其它分支内容，需要先切换到其它分之后再预览即可。 确认无误修改完成后推送分支到远程（github）， 自动构建系统会自动构建并发布到 pages 分支， 等构建完毕访问网址即可看到效果。"},"/soft/maixduino/zh/contribute/code_convention.html":{"title":"","content":"代码规范 "},"/soft/maixduino/zh/index.html":{"title":"Maixduino 文档(此文档已不再维护)","content":"Maixduino 文档(此文档已不再维护) <div class \"title_pic\"> <img src \"./../assets/arduino.png\" height \"60\"> <img src \"./../assets/icon_sipeed_arduino.png\" height \"60\"> </div> ## 什么是 Maixduino 让 Maix 系列的开发板（k210 芯片）支持 Arduino IDE及库， 方便使用大量已有的开源 Arduino 库， 从而快速进行开发和原型验证 ## 如何开发 Maixduino支持原始 [Arduino IDE](./get_started/install.html) 的开发，同时也可以选择支持一键调试功能的 [Platform IDE](./get_started/install.html) 开发。"}}